!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.atomico={})}(this,function(t){"use strict";var e="Atomico",n="elementMount",i="elementUnmount",r="elementReceiveProps";function o(t,e){for(var n={},i=0;i<t.length;i++){var r=t[i],o=e instanceof HTMLElement?e.getAttribute(r):e[r];n[r.replace(/-+([\w])/g,function(t,e){return e.toUpperCase()})]=o}return n}function s(t){return t.shadowRoot||t}function c(t,e){s(t).removeChild(e)}function a(t,e){s(t).appendChild(e)}function f(t,e,n){s(t).replaceChild(e,n)}function p(t,e,n){this.tag=t,this.props=e||{},this.children=n||[]}function l(t){return null!==t&&"object"==typeof t&&11!==t.nodeType}function u(t,e){void 0===e&&(e=[]);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?u(i,e):e.push("object"==typeof(r=i)&&r instanceof p?i:l(i)?new p(i,{},""):new p("",{},i||""))}var r;return e}function h(t,e,n,i,o){for(var s=Object.keys(e).concat(Object.keys(n)),c=0;c<s.length;c++){var a=s[c];if(e[a]!==n[a]){if(o&&t._props.indexOf(a)>-1){o[a]=n[a];continue}if("function"==typeof n[a]||"function"==typeof e[a])e[a]&&t.removeEventListener(a,e[a]),t.addEventListener(a,n[a]);else if(a in n)if(a in t&&!i||i&&"style"===a)if("style"===a)if("object"==typeof n[a])for(var f in n[a])t.style[f]=n[a][f];else t.style.cssText=n[a];else t[a]=n[a];else{if(i&&"xmlns"===a)continue;i?t.setAttributeNS(null,a,n[a]):t.setAttribute(a,n[a])}else t.removeAttribute(a)}}o&&t.dispatch(r,o)}function d(t,e){return"slot"===t.tag&&(t.tag=e.slots[t.props.name]||""),t}var v=function(t){function v(){for(t.call(this),this[e]=!0,this.state={},this.slots={},this._props=this.constructor.props||[],this._render=[],this.props=o(this._props,this),this.props.children=[],this.fragment=document.createDocumentFragment();this.firstChild;){var n=this.firstChild,i=n.getAttribute&&n.getAttribute("slot");i&&(this.slots[i]=n),a(this.fragment,n),this.props.children.push(n)}this.livecycle()}t&&(v.__proto__=t),v.prototype=Object.create(t&&t.prototype),v.prototype.constructor=v;var g={observedAttributes:{configurable:!0}};return g.observedAttributes.get=function(){return this.props||[]},v.prototype.livecycle=function(){var t=this,e=!0;this.listeners=[n,i,r].map(function(i){var o=function(o){o.type===i&&(i===n&&(e=!1),e||(t[i]&&t[i](o),o.defaultPrevented||(i===r&&(t.props=Object.assign({},t.props,o.detail)),t.setState({}))))};return t.addEventListener(i,o),function(){return t.removeEventListener(i,o)}})},v.prototype.connectedCallback=function(){this.dispatch(n)},v.prototype.disconnectedCallback=function(){this.dispatch(i),this.listeners.forEach(function(t){return t()})},v.prototype.attributeChangedCallback=function(t,e,n){var i;e!==n&&this.dispatch(r,o([t],((i={})[t]=n,i)))},v.prototype.dispatch=function(t,e){this.dispatchEvent(new CustomEvent(t,{cancelable:!0,detail:e}))},v.prototype.setState=function(t){if(t){this.state=Object.assign({},this.state,t);var n=u([this.render()]);!function t(n,i,r,o,s){void 0===o&&(o=n);for(var u=n.childNodes||[],v=Math.max(i.length,r.length),g=0;g<v;g++){var m=i[g]||new p,y=r[g],b=u[g];if(y){y=d(y,o),m=d(m,o);var C=b,E=l(y.tag);if(s=s||"svg"===y.tag,m.tag!==y.tag)if(E)C=y.tag,b?f(n,C,b):a(n,C);else if(y.tag)if(C=s?document.createElementNS("http://www.w3.org/2000/svg",y.tag):document.createElement(y.tag),b){if(f(n,C,b),!C[e])for(;b.firstChild;)a(C,b.firstChild)}else a(n,C);else C=document.createTextNode(""),m.tag?f(n,C,b):a(n,C);E||"#text"!==C.nodeName?(h(C,m.props,y.props,s,C[e]&&{children:y.children.map(function(t){return t.tag?t:t.children})}),E||!C||C[e]||t(C,m.children,y.children,o,s)):m.children!==y.children&&(C.textContent=y.children)}else b&&c(n,b)}}(s(this),this._render,n),this._render=n}},v.prototype.render=function(){},Object.defineProperties(v,g),v}(HTMLElement);t.h=function(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return new p(t,e,u(n))},t.Element=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=atomico.es5.umd.js.map
