!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.atomico={})}(this,function(t){"use strict";var e="Atomico",n="elementMount",i="elementUnmount",r="elementReceiveProps";function o(t,e,n){void 0===n&&(n={});for(var i=e instanceof HTMLElement,r=0;r<t.length;r++){var o=t[r],s=i?e.getAttribute(o):e[o];n[o.replace(/-+([\w])/g,function(t,e){return e.toUpperCase()})]=null===s?void 0:s}return n}function s(t){return t.shadowRoot||t}function c(t,e){s(t).removeChild(e)}function a(t,e){s(t).appendChild(e)}function p(t,e,n){s(t).replaceChild(e,n)}function l(t,e,n){this.tag=t,this.props=e||{},this.children=n||[]}function f(t){return null!==t&&"object"==typeof t&&11!==t.nodeType}function u(t,e){void 0===e&&(e=[]);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?u(i,e):e.push("object"==typeof(r=i)&&r instanceof l?i:f(i)?new l(i,{},""):new l("",{},i||""))}var r;return e}function h(t,e,n,i,o){for(var s=Object.keys(e).concat(Object.keys(n)),c=0;c<s.length;c++){var a=s[c];if(e[a]!==n[a]){if(o&&t._props.indexOf(a)>-1){o[a]=n[a];continue}if("function"==typeof n[a]||"function"==typeof e[a])e[a]&&t.removeEventListener(a,e[a]),t.addEventListener(a,n[a]);else if(a in n)if(a in t&&!i||i&&"style"===a)if("style"===a)if("object"==typeof n[a])for(var p in n[a])t.style[p]=n[a][p];else t.style.cssText=n[a];else t[a]=n[a];else{if(i&&"xmlns"===a)continue;i?t.setAttributeNS(null,a,n[a]):t.setAttribute(a,n[a])}else t.removeAttribute(a)}}o&&t.dispatch(r,o)}function d(t,e){return"slot"===t.tag&&(t.tag=e.slots[t.props.name]||""),t}var v=function(t){function v(){for(t.call(this),this[e]=!0,this.state={},this.slots={},this._props=this.constructor.props||[],this._render=[],this.props=o(this._props,this),this.props.children=[],this.fragment=document.createDocumentFragment();this.firstChild;){var n=this.firstChild,i=n.getAttribute&&n.getAttribute("slot");i&&(this.slots[i]=n),a(this.fragment,n),this.props.children.push(n)}this.livecycle()}t&&(v.__proto__=t),v.prototype=Object.create(t&&t.prototype),v.prototype.constructor=v;var g={observedAttributes:{configurable:!0}};return g.observedAttributes.get=function(){return this.props||[]},v.prototype.livecycle=function(){var t=this,e=!0;this.listeners=[n,i,r].map(function(i){var s=function(s){s.type===i&&(i===n&&(e=!1),e||(t[i]&&t[i](s),s.defaultPrevented||(i===r&&(t.props=o(Object.keys(s.detail),s.detail,Object.assign({},t.props))),t.setState({}))))};return t.addEventListener(i,s),function(){return t.removeEventListener(i,s)}})},v.prototype.setAttribute=function(e,n){e in this.props?this.attributeChangedCallback(e,this.props[e],n):t.prototype.setAttribute.call(this,e,n)},v.prototype.connectedCallback=function(){this.dispatch(n)},v.prototype.disconnectedCallback=function(){this.dispatch(i),this.listeners.forEach(function(t){return t()})},v.prototype.attributeChangedCallback=function(t,e,n){var i;e!==n&&this.dispatch(r,o([t],((i={})[t]=n,i)))},v.prototype.dispatch=function(t,e){this.dispatchEvent(new CustomEvent(t,{cancelable:!0,detail:e}))},v.prototype.setState=function(t){if(t){this.state=Object.assign({},this.state,t);var n=u([this.render()]);!function t(n,i,r,o,s){void 0===o&&(o=n);for(var u=n.childNodes||[],v=Math.max(i.length,r.length),g=0;g<v;g++){var y=i[g]||new l,b=r[g],m=u[g];if(b){b=d(b,o),y=d(y,o);var C=m,A=f(b.tag);if(s=s||"svg"===b.tag,y.tag!==b.tag)if(A)C=b.tag,m?p(n,C,m):a(n,C);else if(b.tag)if(C=s?document.createElementNS("http://www.w3.org/2000/svg",b.tag):document.createElement(b.tag),m){if(p(n,C,m),!C[e])for(;m.firstChild;)a(C,m.firstChild)}else a(n,C);else C=document.createTextNode(""),y.tag?p(n,C,m):a(n,C);A||"#text"!==C.nodeName?(h(C,y.props,b.props,s,C[e]&&{children:b.children.map(function(t){return t.tag?t:t.children})}),A||!C||C[e]||t(C,y.children,b.children,o,s)):y.children!==b.children&&(C.textContent=b.children)}else m&&c(n,m)}}(s(this),this._render,n),this._render=n}},v.prototype.render=function(){},Object.defineProperties(v,g),v}(HTMLElement);t.h=function(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return new l(t,e,u(n))},t.Element=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=atomico.es5.umd.js.map
