!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e="#text",t="host",n="@tag",r="@attrs",o="shadowDom",a="@create",i="@update",s="@created",c="@updated",u="@remove",f=[],l={},v={maxConcurrentTask:5e3};function d(e){return Array.isArray(e)}function p(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function h(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return g(e,t,n)}function y(e){var t=typeof e;return"object"===t&&e.tag?e:{tag:"#text",children:"number"===t||"string"===t?""+e:""}}function g(e,t,n){t=t||{};var r,a,i,s,c,u=1,l={},v=!0,p=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);for(var o=e.length,a=!0;!t&&1===o&&d(e[0]);)o=(e=e[0]).length;for(var i=0;i<o;i++){var s=e[i];if(d(s))p(s,t+1,n),a=!1;else{if("object"===typeof s&&void 0!==s.key){if(r=r||{},s.key in r)throw new Error("Each key must be unique among children");r[s.key]=!0}else if(r)throw new Error("Each child must have a key");n.push(s)}}return a?e:n};for(var h in t){var y=t[h];switch(h){case"context":"object"==typeof y&&(s=y);continue;case"children":!1===y&&(v=!1),n=y;continue;case"innerHTML":case"textContent":case"contenteditable":v=!1;break;case"class":h="className";break;case o:c=y;break;case"key":if(void 0===y)continue;a=y=""+y}l[h]=y,u++}return i=p(n||[]),l.children=i=i.length?i:f,{tag:e,key:a,size:u,props:l,children:i,useKeys:r,useContext:s,useChildren:v,useShadowDom:c}}function x(e,t){var n=(t[e]||{}).dispatch,r=t.childNodes,o=r.length;n&&n(u);for(var a=0;a<o;a++)x(e,r[a])}var m={};function k(e,t,n){var r=t,o=n;if("object"==typeof n)for(var a in o="",n)n[a]&&(m[a]||(m[a]=a.replace(/([^A-Z])([A-Z])/g,function(e,t,n){return t+"-"+n.toLowerCase()})),o+=m[a]+":"+n[a]+";");return r!==o&&(e.style.cssText=o),o}function w(e,t,n,r,o){if("o"===t[0]||"n"===t[1]){l[t]||(l[t]=t.slice(2).toLocaleLowerCase()),t=l[t],o[t]||(o[t]=[function(e){return o[t][1].call(e.target,e)}]);var a=o[t][0];n&&!r?(e.removeEventListener(t,a),delete o[t]):(!n&&r&&e.addEventListener(t,a),o[t][1]=r)}}var b={children:1};var C,A,E=[],z=Promise.resolve();function N(){var e=E,t=e.length;E=[];for(var n=0;n<t;n++){var r=e[n];--r.lvl?r.fun(r.arg):(E.length>v.maxConcurrentTask&&r.lvl++,E.push(r))}E.length&&z.then(N)}function S(){if(!C)throw new Error("the hooks can only be called from an existing functional component in the diff queue");return C}function j(e){var t,n,r=S().component,o=A++;return r.hooks[o]||(n=!0,r.hooks[o]={}),(t=r.hooks[o]).reducer=e,n&&L(t,{type:a}),[t.state,function(e){return L(t,e)}]}function L(e,t){e.state=e.reducer(e.state,t)}function D(e,t){for(var n=e.length,r=0;r<n;r++){var o=e[r],a=o.hooks,i=a.length;t.type===u&&(o.remove=!0);for(var s=0;s<i;s++)L(a[s],t)}}function T(e,t){var n,r=[];function o(f,l,v){if(n){if("function"!=typeof(f=f||"").tag)return D(r.splice(v),{type:u}),n=B(e,n,f,t,l,a),void(r.length&&(n[e].updateComponent=a));var d,p,h=r[v]||{};if(h.tag!==f.tag&&(d=!0,r[v]={lvl:1,size:1,tag:f.tag,hooks:[],props:{},context:{}},D(r.splice(v+1),{type:u}),p=!0),(h=r[v]).context!==f.useContext&&(h.context=f.useContext,l=Object.assign({},l,f.useContext),p=!0),!p&&(f.size!==h.size&&(p=!0),!p))for(var y in f.props)if(f.props[y]!==h.props[y]){p=!0;break}h.props=f.props,h.size=f.size,p&&!h.prevent&&function e(){if(h.remove)return n;C={component:h,context:l,next:function(){h.prevent||(h.prevent=!0,function(e,t,n){void 0===n&&(n=1);var r=E.length;E.push({fun:e,arg:t,lvl:n}),r||z.then(N)}(function(){h.prevent=!1,e()}))}},A=0,D([h],{type:i});var t=h.tag(h.props,l);C=!1,A=0,o(t,l,v+1),D([h],{type:d?s:c}),d=!1}()}}function a(e,t,r,a){switch(e){case i:return n=t,o(r,a,0),n;case u:n=!1,D(history,{type:e}),history=[]}}return a}function q(t,r){var o,a=document;return(o=t!==e?r?a.createElementNS("http://www.w3.org/2000/svg",t):a.createElement(t):a.createTextNode(""))[n]=t,o}function B(t,a,s,c,u,f){s=y(s);var l=a&&a[t]||{},v=l.vnode,d=l.handlers;void 0===d&&(d={});var p=l.updateComponent;if(s===v)return a;var h=s.tag,g=s.props,m=s.children,C=s.useKeys,A=s.useChildren,E=s.useShadowDom;c=c||"svg"===h;var z=a,N="function"==typeof h;if(N&&!p&&(p=T(t,c)),function(e){if(e)return e[n]||(e[n]=e.nodeName.toLowerCase()),e[n]}(a)!==h&&"host"!==h&&!N){z=q(h,c),d={};var S=a&&a.parentNode;S&&S.replaceChild(z,a)}return p&&f!==p?p(i,z,s,u):(h!==e?(function(e,t,n,a){var i=e[r]||{};for(var s in i)b[s]||"ref"===s||s in t||("key"===s?delete e.dataset.key:s in e?e[s]=null:e.removeAttribute(a&&"xlink"===s?"xlink:href":s),delete i[s]);for(var c in t)if(!b[c]){var u=void 0,f=t[c],l=typeof f,v=c in n?n[c]:i[c],d=typeof v;f!==v&&("key"!==c?"ref"!==c?o===c&&"attachShadow"in e?(e.shadowRoot&&!f||!e.shadowRoot&&f)&&e.attachShadow({mode:f?"open":"closed"}):("function"===l||"function"===d?(w(e,c,v,f,n),u=!0):c in e&&!a||a&&"style"===c?"style"===c?f=k(e,v||e.style.cssText,f):e[c]=f:a?e.setAttributeNS(a&&"xlink"===c?"http://www.w3.org/1999/xlink":null,"xlink"===c?"xlink:href":c,f):e.setAttribute(c,f),u||(i[c]=f)):f&&(f.current=e):e.dataset.key!==f&&(e.dataset.key=f))}e[r]=i}(z,g,d,c),A&&(v||{}).children!==s.children&&function(t,n,r,o,a,i){for(var s={},c=n.childNodes,u=c.length,f=r.length,l=o?0:u>f?f:u;l<u;l++){var v=c[l],d=void 0,p=l;o&&(p=v.dataset.key)in o?s[p]=v:d=!0,v&&d&&(x(t,v),u--,l--,n.removeChild(v))}for(var h=0;h<f;h++){var g=y(r[h]),m=c[h+1],k=(o&&g.key,c[h]),w=o?s[g.key]:k;o&&w!==k&&n.insertBefore(w,k),"function"==typeof g.tag&&(w||(w=q(e),m?n.insertBefore(w,m):n.appendChild(w)));var b=B(t,w,g,a,i);w||(m?n.insertBefore(b,m):n.appendChild(b))}}(t,E&&z.shadowRoot||z,m,C,c,u)):z.nodeValue!==m&&(z.nodeValue=m),z[t]={handlers:d,vnode:s,updateComponent:p},z)}function O(e){var t=S().next,n="useState/update",r=j(function(t,r){switch(r.type){case a:return"function"==typeof e?e():e;case n:var o=r.state;return"function"==typeof o?o(t):o}return t}),o=r[0],i=r[1];return[o,function(e){i({state:e,type:n}),t()}]}function R(e,t){j(function(n,r){switch(r.type){case a:return{args:t};case i:case u:if(n.clear)(r.type===u||!t||!n.args||!p(t,n.args))&&n.clear();return Object.assign({},n,{args:t});case s:case c:var o=r.type===s||!t||!n.args||!p(t,n.args),f=n.clear;return o&&(f=e()),Object.assign({},n,{clear:f,args:t})}return n})}function Z(e){var t=e.s,n=e.y,r=e.x;t=1.3*e.size;var o=O(0),a=o[0],i=o[1],s=O(),c=s[0],u=s[1];return R(function(){setInterval(function(){a=a>9?0:a,i(++a)},1e3)},[]),h("div",{style:"\n                position: absolute;\n                font: normal 15px sans-serif;\n                text-align: center;\n                cursor: pointer;\n                width: "+t+"px;\n                height: "+t+"px;\n                left: "+r+"px;\n                top: "+n+"px;\n                border-radius: "+t/2+"px;\n                line-height: "+t+"px;\n                background: "+(c?"#ff0":"#61dafb")+"\n            ",onmouseenter:function(){return u(!0)},onmouseleave:function(){return u(!1)}},a)}var F,K,V,H,I=25;function M(e){var t=e.s,n=e.y,r=e.x;return t<=I?h(Z,{x:r-I/2,y:n-I/2,size:I}):h("div",null,h(M,{x:r,y:n-(t/=2)/2,s:t}),h(M,{x:r-t,y:n+t/2,s:t}),h(M,{x:r+t,y:n+t/2,s:t}))}F=h(function(e){var t=O(0),n=t[0],r=t[1],o=n/1e3%10,a=1+(o>5?10-o:o)/10;return R(function(){var e=Date.now();requestAnimationFrame(function t(){r(Date.now()-e),requestAnimationFrame(t)})},[]),h("div",{shadowDom:!0,style:"\n                position:absolute;\n                transform-origin : 0 0;\n                left:50%;\n                top:50%;\n                width:10px;\n                height:10px;\n                background:#eee;\n                transform: scaleX( "+a/2.1+") scaleY(0.7) translateZ(0.1px);\n            "},h(M,{x:0,y:0,s:1e3}))},null),K=document.querySelector("#app"),void 0===H&&(H="vstate"),V||(F=y(F)).tag!==t&&(F=g(t,{},[F])),B(H,K,F)});
//# sourceMappingURL=bundle.js.map
