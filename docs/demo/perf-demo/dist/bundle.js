!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e="#text",n="host",t="@tag",r="@attrs",o="shadowDom",a="@create",i="@update",s="@created",u="@updated",c="@remove",f=[],l={},v={maxConcurrentTask:5e3};function p(e){return Array.isArray(e)}function d(e,n){var t=e.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function h(e,n){for(var t=[],r=arguments.length-2;r-- >0;)t[r]=arguments[r+2];return y(e,n,t)}function g(e){var n=typeof e;return e&&"object"===n&&e.tag?e:{tag:"#text",children:"number"===n||"string"===n?""+e:""}}function y(e,n,t){n=n||{};var r,a,i,s,u=1,c={},l=!0,v=function(e,n,t){void 0===n&&(n=0),void 0===t&&(t=[]);for(var o=e.length,a=!0;!n&&1===o&&p(e[0]);)o=(e=e[0]).length;if(!o)return f;for(var i=0;i<o;i++){var s=e[i];if(p(s))v(s,n+1,t),a=!1;else{if(s&&"object"===typeof s&&void 0!==s.key){if(r=r||{},s.key in r)throw new Error("Each key must be unique among children");r[s.key]=!0}else if(r)throw new Error("Each child must have a key");t.push(s)}}return a?e:t};for(var d in n){var h=n[d];switch(d){case"context":"object"==typeof h&&(i=h);continue;case"children":!1===h&&(l=!1),t=h;continue;case"innerHTML":case"textContent":case"contenteditable":l=!1;break;case"class":d="className";break;case o:s=h;break;case"key":d="data-key"}c[d]=h,u++}return c.children=a=v(t),{tag:e,key:void 0,size:u,props:c,children:a,useKeys:r,useContext:i,useChildren:l,useShadowDom:s}}function x(e,n){var t=(n[e]||{}).dispatch,r=n.childNodes,o=r.length;t&&t(c);for(var a=0;a<o;a++)x(e,r[a])}var m={};function w(e,n,t){var r=n,o=t;if("object"==typeof t)for(var a in o="",t)t[a]&&(m[a]||(m[a]=a.replace(/([^A-Z])([A-Z])/g,function(e,n,t){return n+"-"+t.toLowerCase()})),o+=m[a]+":"+t[a]+";");return r!==o&&(e.style.cssText=o),o}function k(e,n,t,r,o){if("o"===n[0]||"n"===n[1]){l[n]||(l[n]=n.slice(2).toLocaleLowerCase()),n=l[n],o[n]||(o[n]=[function(e){return o[n][1].call(e.target,e)}]);var a=o[n][0];t&&!r?(e.removeEventListener(n,a),delete o[n]):(!t&&r&&e.addEventListener(n,a),o[n][1]=r)}}var b={children:1};function C(e,n,t){e.removeAttribute(n&&"xlink"===t?"xlink:href":t)}var A,E,z=[],N=Promise.resolve();function S(){var e=z,n=e.length;z=[];for(var t=0;t<n;t++){var r=e[t];--r.lvl?r.fun(r.arg):(z.length>v.maxConcurrentTask&&r.lvl++,z.push(r))}z.length&&N.then(S)}function j(){if(!A)throw new Error("the hooks can only be called from an existing functional component in the diff queue");return A}function L(e){var n,t,r=j().component,o=E++;return r.hooks[o]||(t=!0,r.hooks[o]={}),(n=r.hooks[o]).reducer=e,t&&D(n,{type:a}),[n.state,function(e){return D(n,e)}]}function D(e,n){e.state=e.reducer(e.state,n)}function T(e,n){for(var t=e.length,r=0;r<t;r++){var o=e[r],a=o.hooks,i=a.length;n.type===c&&(o.remove=!0);for(var s=0;s<i;s++)D(a[s],n)}}function q(e,n){var t,r=[];function o(f,l,v){if(t){if("function"!=typeof(f=f||"").tag)return T(r.splice(v),{type:c}),t=O(e,t,f,n,l,a),void(r.length&&(t[e].updateComponent=a));var p,d,h=r[v]||{};if(h.tag!==f.tag&&(p=!0,r[v]={lvl:1,size:1,tag:f.tag,hooks:[],props:{},context:{}},T(r.splice(v+1),{type:c}),d=!0),(h=r[v]).context!==f.useContext&&(h.context=f.useContext,l=Object.assign({},l,f.useContext),d=!0),!d&&(f.size!==h.size&&(d=!0),!d))for(var g in f.props)if(f.props[g]!==h.props[g]){d=!0;break}h.props=f.props,h.size=f.size,d&&!h.prevent&&function e(){if(h.remove)return t;A={component:h,context:l,next:function(){h.prevent||(h.prevent=!0,function(e,n,t){void 0===t&&(t=1);var r=z.length;z.push({fun:e,arg:n,lvl:t}),r||N.then(S)}(function(){h.prevent=!1,e()}))}},E=0,T([h],{type:i});var n=h.tag(h.props,l);A=!1,E=0,o(n,l,v+1),T([h],{type:p?s:u}),p=!1}()}}function a(e,n,r,a){switch(e){case i:return t=n,o(r,a,0),t;case c:t=!1,T(history,{type:e}),history=[]}}return a}function B(n,r){var o,a=document;return(o=n!==e?r?a.createElementNS("http://www.w3.org/2000/svg",n):a.createElement(n):a.createTextNode(""))[t]=n,o}function O(n,a,s,u,c,f){s=g(s);var l=a&&a[n]||{},v=l.vnode;void 0===v&&(v={});var p=l.handlers;void 0===p&&(p={});var d=l.updateComponent;if(s===v)return a;var h=s.tag,y=s.props,m=s.children,A=s.useKeys,E=s.useChildren,z=s.useShadowDom;u=u||"svg"===h;var N=a,S="function"==typeof h;if(S&&!d&&(d=q(n,u)),function(e){if(e)return e[t]||(e[t]=e.nodeName.toLowerCase()),e[t]}(a)!==h&&"host"!==h&&!S){N=B(h,u),p={};var j=a&&a.parentNode;j&&j.replaceChild(N,a)}return d&&f!==d?d(i,N,s,c):(h!==e?(function(e,n,t,a,i){n=n||{};var s=e[r]||{};for(var u in n)b[u]||!(u in t)&&u in s&&(u in e?e[u]=null:C(e,i,u),delete s[u]);for(var c in t)if(!b[c]){var f=!0,l=t[c],v=typeof l,p=c in a?a[c]:s[c],d=typeof p;(l=null==l?void 0:l)!==p&&("ref"!==c?o===c&&"attachShadow"in e?(e.shadowRoot&&!l||!e.shadowRoot&&l)&&e.attachShadow({mode:l?"open":"closed"}):("function"===v||"function"===d?(k(e,c,p,l,a),f=!1):void 0!==l&&(c in e&&!i||i&&"style"===c)?"style"===c?l=w(e,p||e.style.cssText,l):e[c]=l:l?i?e.setAttributeNS(i&&"xlink"===c?"http://www.w3.org/1999/xlink":null,"xlink"===c?"xlink:href":c,l):e.setAttribute(c,l):(C(e,i,c),delete s[c],f=!1),f&&(s[c]=l)):l&&(l.current=e))}e[r]=s}(N,v.props,y,p,u),E&&v.children!==s.children&&function(n,t,r,o,a,i){for(var s={},u=t.childNodes,c=u.length,f=r.length,l=o?0:c>f?f:c;l<c;l++){var v=u[l],p=void 0,d=l;o&&(d=v.dataset.key)in o?s[d]=v:p=!0,v&&p&&(x(n,v),c--,l--,t.removeChild(v))}for(var h=0;h<f;h++){var y=g(r[h]),m=u[h+1],w=(o&&y.key,u[h]),k=o?s[y.key]:w;o&&k!==w&&t.insertBefore(k,w),"function"==typeof y.tag&&(k||(k=B(e),m?t.insertBefore(k,m):t.appendChild(k)));var b=O(n,k,y,a,i);k||(m?t.insertBefore(b,m):t.appendChild(b))}}(n,z&&N.shadowRoot||N,m,A,u,c)):N.nodeValue!==m&&(N.nodeValue=m),N[n]={handlers:p,vnode:s,updateComponent:d},N)}function R(e){var n=j().next,t="useState/update",r=L(function(n,r){switch(r.type){case a:return"function"==typeof e?e():e;case t:var o=r.state;return"function"==typeof o?o(n):o}return n}),o=r[0],i=r[1];return[o,function(e){i({state:e,type:t}),n()}]}function Z(e,n){L(function(t,r){switch(r.type){case a:return{args:n};case i:case c:if(t.clear)(r.type===c||!n||!t.args||!d(n,t.args))&&t.clear();return Object.assign({},t,{args:n});case s:case u:var o=r.type===s||!n||!t.args||!d(n,t.args),f=t.clear;return o&&(f=e()),Object.assign({},t,{clear:f,args:n})}return t})}function F(e){var n=e.s,t=e.y,r=e.x;n=1.3*e.size;var o=R(0),a=o[0],i=o[1],s=R(),u=s[0],c=s[1];return Z(function(){setInterval(function(){a=a>9?0:a,i(++a)},1e3)},[]),h("div",{style:"\n                position: absolute;\n                font: normal 15px sans-serif;\n                text-align: center;\n                cursor: pointer;\n                width: "+n+"px;\n                height: "+n+"px;\n                left: "+r+"px;\n                top: "+t+"px;\n                border-radius: "+n/2+"px;\n                line-height: "+n+"px;\n                background: "+(u?"#ff0":"#61dafb")+"\n            ",onmouseenter:function(){return c(!0)},onmouseleave:function(){return c(!1)}},a)}var K,V,H,I,M=25;function P(e){var n=e.s,t=e.y,r=e.x;return n<=M?h(F,{x:r-M/2,y:t-M/2,size:M}):h("div",null,h(P,{x:r,y:t-(n/=2)/2,s:n}),h(P,{x:r-n,y:t+n/2,s:n}),h(P,{x:r+n,y:t+n/2,s:n}))}K=h(function(e){var n=R(0),t=n[0],r=n[1],o=t/1e3%10,a=1+(o>5?10-o:o)/10;return Z(function(){var e=Date.now();requestAnimationFrame(function n(){r(Date.now()-e),requestAnimationFrame(n)})},[]),h("div",{shadowDom:!0,style:"\n                position:absolute;\n                transform-origin : 0 0;\n                left:50%;\n                top:50%;\n                width:10px;\n                height:10px;\n                background:#eee;\n                transform: scaleX( "+a/2.1+") scaleY(0.7) translateZ(0.1px);\n            "},h(P,{x:0,y:0,s:1e3}))},null),V=document.querySelector("#app"),void 0===I&&(I="@vn"),H||(K=g(K)).tag!==n&&(K=y(n,{},[K])),O(I,V,K)});
//# sourceMappingURL=bundle.js.map
